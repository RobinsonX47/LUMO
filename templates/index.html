{% extends "base.html" %}
{% block title %}LUMO ‚Äì Discover Movies, Anime & Series{% endblock %}
{% block content %}

<!-- Hero Carousel -->
{% if hero_movies %}
<section class="hero-carousel">
  {% for movie in hero_movies %}
  <div class="hero-slide {% if loop.first %}active{% endif %}">
    <img class="hero-bg" src="{{ movie.backdrop_url }}" alt="{{ movie.title }}">
    <div class="hero-overlay-left"></div>
    <div class="hero-overlay-bottom"></div>

    <div class="slide-content">
      <div class="slide-inner">
        <h1>{{ movie.title }}</h1>

        <div class="meta-row">
          {% if movie.release_date %}
          <span class="badge-pill">üìÖ {{ movie.release_date[:4] }}</span>
          {% endif %}
          <span class="badge-pill">‚≠ê {{ movie.vote_average|round(1) }}/10</span>
        </div>

        <p class="slide-description">
          {{ movie.overview[:180] }}{% if movie.overview|length > 180 %}...{% endif %}
        </p>

        <a href="{{ url_for('movies.movie_detail', movie_id=movie.id) }}" class="btn-primary">
          View Details
        </a>
      </div>
    </div>
  </div>
  {% endfor %}

  <button class="carousel-btn prev">‚Äπ</button>
  <button class="carousel-btn next">‚Ä∫</button>

  <div class="carousel-indicators">
    {% for movie in hero_movies %}
    <button class="{% if loop.first %}active{% endif %}"></button>
    {% endfor %}
  </div>
</section>
{% endif %}

<!-- Quick Access Section Cards -->
<section style="margin-bottom: 80px;">
  <h2 style="margin-bottom: 32px; text-align: center; font-size: 2rem;">Explore Content</h2>
  
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px; max-width: 1200px; margin: 0 auto;">
    
    <!-- Movies Card -->
    <a href="{{ url_for('main.movies_section') }}" style="text-decoration: none;">
      <div class="content-card" style="background: linear-gradient(135deg, rgba(10, 132, 255, 0.15), rgba(10, 132, 255, 0.05)); border: 1px solid rgba(10, 132, 255, 0.3);">
        <div class="card-icon">üé¨</div>
        <h3>Movies</h3>
        <p>Discover trending and top-rated movies from around the world</p>
      </div>
    </a>

    <!-- Anime Card -->
    <a href="{{ url_for('main.anime_section') }}" style="text-decoration: none;">
      <div class="content-card" style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.15), rgba(236, 72, 153, 0.05)); border: 1px solid rgba(236, 72, 153, 0.3);">
        <div class="card-icon">üéå</div>
        <h3>Anime</h3>
        <p>Browse popular anime series and discover new favorites</p>
      </div>
    </a>

    <!-- Series Card -->
    <a href="{{ url_for('main.series_section') }}" style="text-decoration: none;">
      <div class="content-card" style="background: linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(168, 85, 247, 0.05)); border: 1px solid rgba(168, 85, 247, 0.3);">
        <div class="card-icon">üì∫</div>
        <h3>TV Series</h3>
        <p>Explore trending and critically acclaimed TV shows</p>
      </div>
    </a>

    <!-- Genres Card -->
    <a href="{{ url_for('main.genres_page') }}" style="text-decoration: none;">
      <div class="content-card" style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.05)); border: 1px solid rgba(34, 197, 94, 0.3);">
        <div class="card-icon">üé≠</div>
        <h3>Browse Genres</h3>
        <p>Filter content by your favorite genres and categories</p>
      </div>
    </a>
  </div>
</section>

<!-- AI Recommendations Card - CENTERED -->
{% if current_user.is_authenticated %}
<section style="margin-bottom: 80px;">
  <div style="max-width: 900px; margin: 0 auto;">
    <a href="{{ url_for('movies.recommendations') }}" style="text-decoration: none;">
      <div class="content-card premium-card ai-card-centered" style="background: linear-gradient(135deg, rgba(123, 92, 255, 0.25), rgba(236, 95, 160, 0.25)); border: 2px solid rgba(123, 92, 255, 0.5); position: relative; overflow: hidden; padding: 48px;">
        <div style="position: absolute; top: -50%; right: -50%; width: 200%; height: 200%; background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%); animation: pulse 3s ease-in-out infinite;"></div>
        <div style="position: relative; z-index: 1; text-align: center;">
          <div class="card-icon" style="font-size: 4rem; margin-bottom: 20px;">‚ú®</div>
          <h3 style="font-size: 2rem; background: linear-gradient(135deg, #7b5cff, #ec5fa0); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; margin-bottom: 16px;">AI Recommendations</h3>
          <p style="font-size: 1.15rem; line-height: 1.6; max-width: 600px; margin: 0 auto 24px; color: var(--text-secondary);">Get personalized movie and series suggestions powered by advanced AI based on your unique taste and viewing history</p>
          <div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;">
            <span class="badge-pill" style="background: rgba(123, 92, 255, 0.3); border-color: rgba(123, 92, 255, 0.5); color: #fff; display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px;">
              <span>ü§ñ</span> AI-Powered
            </span>
            <span class="badge-pill" style="background: rgba(236, 95, 160, 0.3); border-color: rgba(236, 95, 160, 0.5); color: #fff; display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px;">
              <span>üéØ</span> Personalized
            </span>
            <span class="badge-pill" style="background: rgba(10, 132, 255, 0.3); border-color: rgba(10, 132, 255, 0.5); color: #fff; display: inline-flex; align-items: center; gap: 6px; padding: 8px 16px;">
              <span>‚ö°</span> Smart
            </span>
          </div>
        </div>
      </div>
    </a>
  </div>
</section>
{% endif %}

<style>
  .content-card {
    padding: 32px;
    border-radius: 20px;
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: pointer;
    text-align: center;
  }

  .content-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
  }

  .premium-card {
    box-shadow: 0 8px 32px rgba(123, 92, 255, 0.4);
  }

  .premium-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 24px 80px rgba(123, 92, 255, 0.6);
  }

  .ai-card-centered {
    box-shadow: 0 12px 48px rgba(123, 92, 255, 0.5);
  }

  .ai-card-centered:hover {
    transform: translateY(-12px) scale(1.03);
    box-shadow: 0 32px 96px rgba(123, 92, 255, 0.7);
  }

  .card-icon {
    font-size: 3.5rem;
    margin-bottom: 16px;
    display: block;
  }

  .content-card h3 {
    font-size: 1.3rem;
    font-weight: 600;
    margin-bottom: 12px;
    color: var(--text-primary);
  }

  .content-card p {
    color: var(--text-secondary);
    font-size: 0.95rem;
    line-height: 1.6;
  }

  @keyframes pulse {
    0%, 100% { transform: scale(1); opacity: 0.5; }
    50% { transform: scale(1.05); opacity: 0.8; }
  }

  @media (max-width: 768px) {
    .content-card {
      padding: 24px;
    }

    .ai-card-centered {
      padding: 36px 24px;
    }

    .ai-card-centered h3 {
      font-size: 1.5rem;
    }

    .ai-card-centered p {
      font-size: 1rem;
    }
  }
</style>

{% endblock %}